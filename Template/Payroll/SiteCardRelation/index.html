<!-- templates/Payroll/SiteCardRelation/index.html -->
{% extends "Shared/Layout.html" %}
{% block username %}{{ username }}{% endblock %}
{% block content %}
{% load static %}
<link href="{% static 'css/masters.css' %}" rel="stylesheet" type="text/css">
<link href="{% static 'css/table.css' %}" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
<script src="{% static 'jquery/dist/jquery.min.js' %}"></script>
<head>
    <title>Site Card Relations</title>
    <style>
        /* Style for right-aligning the link */
        .right-align {
            text-align: right;
            margin-bottom: 10px;
        }
    </style>
</head>
{% comment %} <h1>Site Card Relations</h1>
<div class="right-align">
    <a href="{% url 'site_card_relation_create' %}" class="btn btn-primary">Create New Site Card Relation</a>
</div>
<br>
<table border="1">
    <thead>
        <tr>
            <th>Relation Name</th>
            <th>Site ID</th>
            <th>Card ID</th>
            <th>Designation</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for relation in site_card_relations %}
        <tr>
            <td>{{ relation.relation_name }}</td>
            <td>{{ relation.site_id }}</td>
            <td>{{ relation.card_id }}</td>
            <td>{{ relation.designation_id }}</td>
            <td>
                <a href="{% url 'site_card_relation_view' relation.pk %}">View</a> |
                <a href="{% url 'site_card_relation_edit' relation.pk %}">Edit</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table> {% endcomment %}

<div>
    <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h2 class="mb-0">Site Card Relations</h2>
            <a href="{% url 'site_card_relation_create' %}" class="btn btn-primary">Create New Site Card Relation</a>
        </div>
        <div class="card-body">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Relation Name</th>
                        <th>Site Name</th>
                        <th>Card Name</th>
                        <th>Designation</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for relation in site_card_relations %}
                        <tr>
                            <td>{{ relation.relation_name }}</td>
                            <td>{{ relation.site.site_name }}</td>
                            <td>{{ relation.card.card_name }}</td>
                            <td>{{ relation.designation.designation_name }}</td>
                            <td>
                                <a href="{% url 'site_card_relation_view' relation.pk %}">View</a> |
                                <a href="{% url 'site_card_relation_edit' relation.pk %}">Edit</a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>




{% load static %}
    
    <!-- Show success/error messages -->
<script src="{% static 'sweetalert2/dist/sweetalert2.min.js' %}"></script>
{% if messages %}
{% for message in messages %}
  <script>
  Swal.fire({
    title: "{{ message.tags }}",
    text: "{{ message }}",
    icon: "{{ message.tags }}",
    confirmButtonText: "OK",
  });
</script>
{% endfor %}
{% endif %} 
{% endblock %}
