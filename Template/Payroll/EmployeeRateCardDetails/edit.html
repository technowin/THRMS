{% extends "Shared/Layout.html" %}
{% block content %}
<h1>Edit Employee Rate Card Details</h1>

<form method="POST">
    {% csrf_token %}
    
    <label for="site_id">Site:</label>
    <select id="site_id" name="site_id" class="form-control" required>
        <option value="">Select Site</option>
        {% for site in sites %}
        <option value="{{ site.site_id }}" {% if rate_card_detail.card_id.site_id == site.site_id %}selected{% endif %}>{{ site.site_id__site_name }}</option>
        {% endfor %}
    </select>

    <label for="card_id">Rate Card:</label>
    <select id="card_id" name="card_id" class="form-control" required>
        <option value="{{ rate_card_detail.card_id_id }}">{{ rate_card_detail.card_id.card_name }} - {{ rate_card_detail.card_id.pay_type }} - {{ rate_card_detail.card_id.classification }}</option>
        <!-- Populate dynamically based on site_id selection -->
    </select>

    <label for="employee_id">Employee:</label>
    <select id="employee_id" name="employee_id" class="form-control" required>
        <option value="">Select Employee</option>
        {% for employee in employees %}
        <option value="{{ employee.employee_id }}" {% if rate_card_detail.employee_id == employee.employee_id %}selected{% endif %}>{{ employee.employee_name }}</option>
        {% endfor %}
    </select>

    <label for="four_hour_amount">Four Hour Amount:</label>
    <input type="number" id="four_hour_amount" name="four_hour_amount" value="{{ rate_card_detail.four_hour_amount }}" class="form-control" required>

    <label for="nine_hour_amount">Nine Hour Amount:</label>
    <input type="number" id="nine_hour_amount" name="nine_hour_amount" value="{{ rate_card_detail.nine_hour_amount }}" class="form-control" required>

    <button type="submit" class="btn btn-primary">Save Changes</button>
    <a href="{% url 'employee_rate_card_index' %}" class="btn btn-secondary">Cancel</a>
</form>

<script>
// Similar to create, add script to dynamically load rate card options based on site_id selection.
</script>

{% endblock %}
